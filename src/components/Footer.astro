---
const currentYear = new Date().getFullYear();
---

<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-links">
                <button id="openTermsModal" class="footer-link">Terms & Conditions</button>
                <span class="separator">|</span>
                <button id="openPrivacyModal" class="footer-link">Privacy Policy</button>
            </div>
            <div class="copyright">
                <p>© {currentYear} Fast Track Driving Test Booking Nottingham. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>

<!-- Terms Modal -->
<div id="termsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Terms & Conditions</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="terms-section">
                <h4>Booking & Payments</h4>
                <ul>
                    <li>All booking fees (£120) are non-refundable</li>
                    <li>Payment must be made in full before booking</li>
                    <li>No refunds for cancellations or changes</li>
                </ul>
            </div>
            <div class="terms-section">
                <h4>Service Terms</h4>
                <ul>
                    <li>This is an independent booking service</li>
                    <li>Not affiliated with DVSA</li>
                    <li>Test dates subject to availability</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Privacy Modal -->
<div id="privacyModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Privacy Policy</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <p>We collect and process your personal information solely for the purpose of booking your driving test. Your data is handled securely and never shared with third parties except where necessary for test booking purposes.</p>
        </div>
    </div>
</div>

<script>
    // Modal functionality
    document.addEventListener('DOMContentLoaded', () => {
        const termsModal = document.getElementById('termsModal');
        const privacyModal = document.getElementById('privacyModal');
        const openTermsBtn = document.getElementById('openTermsModal');
        const openPrivacyBtn = document.getElementById('openPrivacyModal');
        const closeButtons = document.querySelectorAll('.close-modal');

        const openModal = (modal) => {
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        };

        const closeModal = (modal) => {
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
        };

        openTermsBtn?.addEventListener('click', () => openModal(termsModal));
        openPrivacyBtn?.addEventListener('click', () => openModal(privacyModal));

        closeButtons.forEach(button => {
            button.addEventListener('click', () => {
                closeModal(button.closest('.modal'));
            });
        });

        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                closeModal(e.target);
            }
        });
    });
</script>

<style>
    .footer {
        background: #1a1a1a;
        color: #fff;
        padding: 2rem 0;
        margin-top: 4rem;
    }
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
    }
    .footer-content {
        text-align: center;
    }
    .footer-links {
        margin-bottom: 1rem;
    }
    .footer-link {
        background: none;
        border: none;
        color: #4CAF50;
        font-size: 0.9rem;
        cursor: pointer;
        padding: 0.5rem;
        transition: color 0.3s ease;
    }
    .footer-link:hover {
        color: #45a049;
    }
    .separator {
        color: #333;
        margin: 0 0.5rem;
    }
    .copyright {
        color: rgba(255,255,255,0.6);
        font-size: 0.9rem;
    }
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        z-index: 1000;
        align-items: center;
        justify-content: center;
    }
    .modal-content {
        background: #fff;
        width: 90%;
        max-width: 600px;
        border-radius: 10px;
        overflow: hidden;
    }
    .modal-header {
        background: #1a1a1a;
        padding: 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .modal-header h3 {
        color: #fff;
        margin: 0;
    }
    .close-modal {
        background: none;
        border: none;
        color: #fff;
        font-size: 1.5rem;
        cursor: pointer;
    }
    .modal-body {
        padding: 2rem;
    }
    .terms-section {
        margin-bottom: 2rem;
    }
    .terms-section h4 {
        color: #23262d;
        margin-bottom: 1rem;
    }
    .terms-section ul {
        list-style: none;
        padding: 0;
    }
    .terms-section li {
        margin-bottom: 0.5rem;
        color: #666;
    }
</style>